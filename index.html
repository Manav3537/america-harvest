<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Rescue Network</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" integrity="sha512-h9FcoyWjHcOcmEVkxOfTLnmZFWIH0iZhZT1H2TbOq55xssQGEJHEaIm+PgoUaZbRvQTNTluNOEfb1ZRy6D3BOw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="hero-content">
                <h1>America's Harvest</h1>
                <p>Connecting surplus food with communities in need</p>
                <div class="hero-stats">
                    <div class="hero-stat">
                        <span class="hero-number">18.2K</span>
                        <span class="hero-label">lbs rescued today</span>
                    </div>
                    <div class="hero-stat">
                        <span class="hero-number">247</span>
                        <span class="hero-label">families fed</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="left-panel">
                <div class="card donate-card">
                    <div class="card-header">
                        <h2>ü•ó Donate Food</h2>
                        <p>Share your surplus with those who need it most</p>
                    </div>
                    <form id="donateForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="donorName">Organization Name</label>
                                <input type="text" id="donorName" required placeholder="Your restaurant or organization">
                            </div>
                            <div class="form-group">
                                <label for="contactPerson">Contact Person</label>
                                <input type="text" id="contactPerson" required placeholder="Manager or coordinator">
                            </div>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" required placeholder="(555) 123-4567">
                            </div>
                            <div class="form-group">
                                <label for="address">Pickup Address</label>
                                <input type="text" id="address" required placeholder="Click map to auto-fill">
                            </div>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="foodType">Food Type</label>
                                <select id="foodType" required>
                                    <option value="">Select food type</option>
                                    <option value="prepared">üçΩÔ∏è Prepared Meals</option>
                                    <option value="produce">ü•ï Fresh Produce</option>
                                    <option value="dairy">ü•õ Dairy Products</option>
                                    <option value="baked">ü•ñ Baked Goods</option>
                                    <option value="packaged">üì¶ Packaged Foods</option>
                                    <option value="frozen">üßä Frozen Items</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="quantity">Estimated Quantity</label>
                                <input type="number" id="quantity" required placeholder="servings or lbs">
                            </div>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="expiry">Best By Date</label>
                                <input type="date" id="expiry" required>
                            </div>
                            <div class="form-group">
                                <label for="urgency">Pickup Urgency</label>
                                <select id="urgency" required>
                                    <option value="">Select urgency</option>
                                    <option value="high">üö® High (within 2 hours)</option>
                                    <option value="medium">‚ö° Medium (within 6 hours)</option>
                                    <option value="low">üìÖ Low (within 24 hours)</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="notes">Additional Notes</label>
                            <textarea id="notes" rows="3" placeholder="Special handling instructions, dietary info, storage requirements..."></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <span>Post Donation</span>
                            <div class="btn-shine"></div>
                        </button>
                    </form>
                </div>

                <div class="listings">
                    <div class="listings-header">
                        <h2>üìç Available Food Donations</h2>
                        <div class="filter-chips">
                            <button class="chip active" data-filter="all">All</button>
                            <button class="chip" data-filter="high">Urgent</button>
                            <button class="chip" data-filter="produce">Fresh</button>
                            <button class="chip" data-filter="prepared">Ready</button>
                        </div>
                    </div>
                    <div id="donationsList"></div>
                </div>
            </div>

            <div class="right-panel">
                <div class="map-container">
                    <div class="map-header">
                        <h2>üó∫Ô∏è Live Donation Map</h2>
                        <div class="map-controls">
                            <button class="btn-icon" onclick="toggleClustering()" title="Toggle Clustering">
                                <span>üîó</span>
                            </button>
                            <button class="btn-icon" onclick="showOptimalRoute()" title="Optimal Route">
                                <span>üõ£Ô∏è</span>
                            </button>
                            <button class="btn-icon" onclick="centerOnUser()" title="My Location">
                                <span>üìç</span>
                            </button>
                        </div>
                    </div>
                    <div id="map"></div>
                </div>

                <div class="card request-card">
                    <div class="card-header">
                        <h2>üè¢ Request Food</h2>
                        <p>Register your organization to receive donations</p>
                    </div>
                    <form id="requestForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="orgName">Organization Name</label>
                                <input type="text" id="orgName" required placeholder="Food bank or shelter name">
                            </div>
                            <div class="form-group">
                                <label for="orgType">Organization Type</label>
                                <select id="orgType" required>
                                    <option value="">Select type</option>
                                    <option value="foodbank">üèõÔ∏è Food Bank</option>
                                    <option value="shelter">üè† Homeless Shelter</option>
                                    <option value="community">üèòÔ∏è Community Center</option>
                                    <option value="school">üè´ School/Daycare</option>
                                    <option value="senior">üëµ Senior Center</option>
                                    <option value="religious">‚õ™ Religious Organization</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="reqContact">Contact Person</label>
                                <input type="text" id="reqContact" required placeholder="Program coordinator">
                            </div>
                            <div class="form-group">
                                <label for="reqPhone">Phone Number</label>
                                <input type="tel" id="reqPhone" required placeholder="(555) 123-4567">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="reqAddress">Organization Address</label>
                            <input type="text" id="reqAddress" required placeholder="Click map to auto-fill">
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="capacity">Weekly Capacity</label>
                                <input type="number" id="capacity" required placeholder="people served weekly">
                            </div>
                            <div class="form-group">
                                <label for="preferences">Dietary Needs</label>
                                <input type="text" id="preferences" placeholder="allergies, restrictions...">
                            </div>
                        </div>

                        <button type="submit" class="btn btn-secondary">
                            <span>Register Organization</span>
                            <div class="btn-shine"></div>
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <div class="impact-dashboard">
            <div class="impact-header">
                <h2>üå± Network Impact</h2>
                <p>Real-time community impact metrics</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card primary">
                    <div class="stat-icon">ü•ò</div>
                    <div class="stat-content">
                        <div class="stat-number" id="totalDonations">247</div>
                        <div class="stat-label">Total Donations</div>
                        <div class="stat-trend">+23 today</div>
                    </div>
                </div>
                
                <div class="stat-card success">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-content">
                        <div class="stat-number" id="peopleServed">15,840</div>
                        <div class="stat-label">People Served</div>
                        <div class="stat-trend">+412 this week</div>
                    </div>
                </div>
                
                <div class="stat-card warning">
                    <div class="stat-icon">‚öñÔ∏è</div>
                    <div class="stat-content">
                        <div class="stat-number" id="foodRescued">18.2K</div>
                        <div class="stat-label">Lbs Food Rescued</div>
                        <div class="stat-trend">+1.8K today</div>
                    </div>
                </div>
                
                <div class="stat-card info">
                    <div class="stat-icon">üåç</div>
                    <div class="stat-content">
                        <div class="stat-number" id="co2Saved">24.3</div>
                        <div class="stat-label">Tons CO‚ÇÇ Saved</div>
                        <div class="stat-trend">+2.1 this month</div>
                    </div>
                </div>
                
                <div class="stat-card active">
                    <div class="stat-icon">üî•</div>
                    <div class="stat-content">
                        <div class="stat-number" id="activeDonations">5</div>
                        <div class="stat-label">Active Now</div>
                        <div class="stat-trend">Live updates</div>
                    </div>
                </div>
                
                <div class="stat-card time">
                    <div class="stat-icon">‚è±Ô∏è</div>
                    <div class="stat-content">
                        <div class="stat-number" id="avgPickupTime">47</div>
                        <div class="stat-label">Avg Pickup (min)</div>
                        <div class="stat-trend">-5 min improved</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Live Updates Panel -->
    <div class="live-updates" id="liveUpdates">
        <div class="live-updates-header" onclick="toggleLiveUpdates()">
            <h4>‚ö° Live Activity</h4>
            <button class="minimize-btn" id="minimizeBtn" title="Minimize/Expand">‚àí</button>
        </div>
        <div id="updatesList"></div>
    </div>

    <!-- Reserve Modal -->
    <div id="reserveModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-header">
                <h2>üöö Reserve Food Donation</h2>
                <p>Coordinate pickup details</p>
            </div>
            <div id="routeInfo" class="route-info" style="display: none;"></div>
            <form id="reserveForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="pickupOrg">Receiving Organization</label>
                        <input type="text" id="pickupOrg" required placeholder="Your organization name">
                    </div>
                    <div class="form-group">
                        <label for="pickupContact">Contact Person</label>
                        <input type="text" id="pickupContact" required placeholder="Coordinator name">
                    </div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="pickupPhone">Phone Number</label>
                        <input type="tel" id="pickupPhone" required placeholder="(555) 123-4567">
                    </div>
                    <div class="form-group">
                        <label for="pickupTime">Pickup Time</label>
                        <input type="datetime-local" id="pickupTime" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="transportMethod">Transportation Method</label>
                    <select id="transportMethod" required>
                        <option value="">Select method</option>
                        <option value="van">üöê Delivery Van</option>
                        <option value="truck">üöõ Refrigerated Truck</option>
                        <option value="car">üöó Personal Vehicle</option>
                        <option value="bike">üö≤ Bicycle/Cart</option>
                    </select>
                </div>
                
                <div class="modal-actions">
                    <button type="submit" class="btn btn-primary">
                        <span>Confirm Reservation</span>
                        <div class="btn-shine"></div>
                    </button>
                    <button type="button" class="btn btn-outline" onclick="calculateRoute()">
                        <span>üó∫Ô∏è Calculate Route</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    <script src="main.js"></script>
</body>
</html>
